## {damage_type_file} Как добавить свой тип урона с кастомным сообщением о смерти?
Для этого нам понадобится и датапак и ресурспак. Датапак добавит тип урона, а ресурспак будет иметь ланг файл, в который мы запишем сообщение о смерти.
### Создание типа урона
1. В папке вашего неймспейса (`data/namespace/`) создаём папку `damage_type`. В ней будут находиться `.json` файлы, которые и будут являться кастомными типами урона. Создаём там файл с любым названием, не забывая про допустимые символы. Например:
<:data_open:1142345183367802971>`data`
⎿<:namespace_open:1188839157829742723>`namespace`
　⎿<:damage_type:1142345178766659614>`damage_type`
　　⎿<:damage_type_file:1188838136957112420>`monster.json`

2. Заходим на [генератор типов урона](https://misode.github.io/damage-type/) от Misode. У типов урона всего 5 параметров, из которых 3 — обязательные. Пройдёмся по каждому:
---separator---
**Обязательные параметры**:
`message_id` — айди сообщения . Именно сюда пишем то, что мы в итоге напишем в наш ланг файл как часть ключа к переводу. Например, `monster`.
`exhaustion` — Количество единиц истощения, которые получит игрок при получении этого типа урона. [Вот в этой таблице](<https://minecraft.wiki/w/Hunger#Exhaustion_level_increase>) можно увидеть, какие вещи наносят сколько истощения.
`scaling` — будет ли урон увеличиваться в зависимости от сложности игры. Может принимать значения:
1) `never` — урон не будет увеличиваться, остаётся таким же.
2) `always` — урон будет увеличиваться в зависимости от сложности.
3) `when_caused_by_living_non_player` — урон будет увеличиваться, но только если атакующая сущность является живущей сущностью и НЕ является игроком.
**НЕобязательные параметры**:
`effects` — изменяет звук при получении урона. Может принимать значения `hurt` (этот по умолчанию), `thorns`, `drowning`, `burning`, `poking`, `freezing`.
`death_message_type` — тип сообщения о смерти. Может принимать значения:
1) `default` — этот параметр стоит по умолчанию. Сообщение о смерти берётся из вышеупомянутого параметра `message_id`.
2) `fall_variants` — Использовать сообщения, которые используются при смерти от падения
3) `intentional_game_design` — Показывать то самое сообщение о смерти, которое показывается когда умираешь от взрыва кровати или якоря возрождения в неправильном измерении.

3. После того, как вы выставили все параметры как вам надо, скопируйте итоговый json в правом нижнем углу и вставьте его в ваш файл типа урона, в моём случае `monster.json`.

4. Теперь, если вы находились уже в мире в тот момент, когда вы добавляли или изменяли типы урона, то /reload не поможет перезагрузить дп чтоб применить изменения, для типов урона (и других экспериментальных вещей) вам придётся перезайти в мир. После перезахода проверьте, видит ли майнкрафт ваш тип урона, прописав в чат `/damage @s 1 <тип урона>`.
---separator---
### Создание сообщения о смерти
1. Если всё работает, то теперь остаётся создать ресурспак с ланг файлом, куда мы запишем сообщение о смерти. В папке вашего неймспейса создайте папку lang, а в ней `.json` файл ланга для нужного вам языка. Если вам надо сделать сообщение о смерти для русского языка, то `ru_ru.json`, если для английского, то `en_us.json`. Я добавлю на оба языка сообщение:
<:assets_open:1142346941599064086>`assets`
⎿<:namespace_open:1188839157829742723>`namespace`
　⎿<:lang:1142346828206047325>`lang`
　　⎿<:lang_file:1188838193559257258>`ru_ru.json`
　　⎿<:lang_file:1188838193559257258>`en_us.json`

2. Теперь остаётся только внутри этих файлов добавить фигурные скобки, в них ключ к переводу и собственно само сообщение. Ключ будет выглядеть в формате `death.attack.<message_id>`. В сообщении перевода `%s` заменится на имя умершей сущности. В моём случае это будет выглядеть так:
<:lang_file:1188838193559257258>`ru_ru.json`
```json
{
  "death.attack.monster": "%s был съеден монстром"
}
```
<:lang_file:1188838193559257258>`en_us.json`
```json
{
  "death.attack.monster": "%s was eaten by a monster"
}
```
Ключи перевода также могут быть в формате `death.attack.<message_id>.player` для смертей от какой то сущности с именем, где `%1$s` заменится на имя умершей сущности, а `%2$s` на имя атакующей сущности,  и `death.attack.<message_id>.item` для смертей от  от какой то сущности с именем, которая убила, используя предмет с кастомным именем. `%1$s` и `%2$s` значат тут тоже самое, а `%3$s` — кастомное имя предмета.
---separator---
### Изменение свойств типов урона
Типы урона также могут иметь разные свойства, которые можно менять, добавляя тип урона в разные {tags_open} теги (группы) типов урона, например — `bypasses_cooldown`, чтоб дамагу не препятствовал кулдаун неуязвимости сущности в течении 0.5 секунд после получения урона, или `no_knockback`, который убирает отдачу от нанесения урона этим типом. Добавим тип урона в вышеупомянутые теги:

<:data_open:1142345183367802971>`data`
⎿<:namespace_open:1188839157829742723>`namespace`
　⎿<:tags:1142345438654124033>`tags`
　　⎿<:damage_type:1142345178766659614>`damage_type`
　　　⎿<:damage_type_file:1188838136957112420>`bypasses_cooldown.json`
　　　⎿<:damage_type_file:1188838136957112420>`no_knockback.json`

В джсон файлы тегов записываем следующее:
```json
{
  "values": [
    "namespace:monster"
  ]
}
```